(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{251:function(t,e,r){"use strict";var n=r(7),o=r(74),a=[].reverse,c=[1,2];n({target:"Array",proto:!0,forced:String(c)===String(c.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a.call(this)}})},274:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),a=r(1),c=r.n(a),i=r(60),u=r(16),s=(r(31),r(38),r(39),r(57),r(32),r(42),r(80),r(18),r(81),r(41),r(29),r(25),r(93),r(40),r(15)),l=(r(251),r(92),function(){return o.a.createElement("div",{className:"gfpdf-core-font-spacer"},"---")});function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,r){return e&&y(t.prototype,e),r&&y(t,r),t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=v(t);if(e){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return F(this,r)}}function F(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}
/**
 * @package     Gravity PDF
 * @copyright   Copyright (c) 2021, Blue Liquid Designs
 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 * @since       5.0
 */var D=function(t){b(r,t);var e=m(r);function r(){return p(this,r),e.apply(this,arguments)}return d(r,[{key:"render",value:function(){var t=this,e=this.props.console,r=Object.keys(e).reverse(),n=this.props.retry.length>0;return r.length?o.a.createElement("ul",{className:"gfpdf-core-font-list-results-container","aria-label":GFPDF.coreFontAriaLabel},r.map((function(r){return o.a.createElement("li",{key:r,className:"gfpdf-core-font-status-"+e[r].status},e[r].message," ","completed"===r&&n&&o.a.createElement(C,{history:t.props.history,retryText:t.props.retryText}),"completed"===r&&o.a.createElement(l,null))}))):null}}]),r}(n.Component);w(D,"propTypes",{console:c.a.object,retry:c.a.array,history:c.a.object,retryText:c.a.string});var C=function(t){b(r,t);var e=m(r);function r(){var t;p(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return w(g(t=e.call.apply(e,[this].concat(o))),"handleTriggerRetryFontDownload",(function(e){e.preventDefault(),t.props.history.replace("retryDownloadCoreFonts")})),t}return d(r,[{key:"render",value:function(){return o.a.createElement("a",{href:"#",onClick:this.handleTriggerRetryFontDownload,"aria-live":"polite",role:"dialog"},this.props.retryText)}}]),r}(n.Component);w(C,"propTypes",{history:c.a.object,retryText:c.a.string});
/**
 * @package     Gravity PDF
 * @copyright   Copyright (c) 2021, Blue Liquid Designs
 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 * @since       5.0
 */
var T=function(t){var e=t.queue,r=t.text;return o.a.createElement("span",{className:"gfpdf-core-font-counter"},r," ",e)};T.propTypes={queue:c.a.number,text:c.a.string};var j=T,x=r(138),E=r(17);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=q(t);if(e){var o=q(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return G(this,r)}}function G(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?_(t):e}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}
/**
 * @package     Gravity PDF
 * @copyright   Copyright (c) 2021, Blue Liquid Designs
 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 * @since       5.0
 */var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(c,t);var e,r,n,a=k(c);function c(){var t;R(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return A(_(t=a.call.apply(a,[this].concat(r))),"state",{ajax:!1}),A(_(t),"maybeStartDownload",(function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;"/downloadCoreFonts"===e&&t.startDownloadFonts(r,n),"/retryDownloadCoreFonts"===e&&(t.setState({ajax:!0}),t.startDownloadFonts(r,n))})),A(_(t),"startDownloadFonts",(function(e,r){if(0===e.length)return t.props.clearButtonClickedAndRetryList(),t.handleGithubApiError(r);t.props.clearConsole(),t.props.clearButtonClickedAndRetryList(),t.props.history.replace(""),setTimeout((function(){return e.map((function(e){return t.props.downloadFontsApiCall(e)}))}),300)})),A(_(t),"handleGithubApiError",(function(e){t.setState({ajax:!1}),t.props.addToConsole("completed","error",e),t.props.history.replace("")})),A(_(t),"handleTriggerFontDownload",(function(){!1===t.state.ajax&&t.setState({ajax:!0},(function(){t.props.getFilesFromGitHub()}))})),A(_(t),"resetState",(function(){var e=t.props,r=e.clearRequestRemainingData,n=e.history;t.setState({ajax:!1}),r(),n.replace("")})),t}return e=c,(r=[{key:"componentDidUpdate",value:function(){var t=this.props,e=t.fontList,r=t.buttonClicked,n=t.location,o=t.retry,a=t.getFilesFromGitHubFailed,c=t.requestDownload;e.length>0&&r&&this.startDownloadFonts(e),"/downloadCoreFonts"===n.pathname&&this.handleTriggerFontDownload(),"/retryDownloadCoreFonts"===n.pathname&&this.maybeStartDownload(n.pathname,o),""!==a&&r&&this.startDownloadFonts(e,a),"finished"===c&&this.resetState()}},{key:"componentDidMount",value:function(){"/downloadCoreFonts"===this.props.location.pathname&&this.handleTriggerFontDownload()}},{key:"render",value:function(){var t=this.state.ajax,e=this.props,r=e.fontList,n=e.buttonClassName,a=e.buttonText,c=e.counterText,i=e.queue,u=e.history,s=e.console,l=e.retry,f=e.retryText,p=i<r.length&&0!==i||t;return o.a.createElement("div",null,o.a.createElement("button",{className:n,type:"button",onClick:this.handleTriggerFontDownload,disabled:p},a),t&&o.a.createElement(x.a,null),t&&0!==i&&o.a.createElement(j,{text:c,queue:i}),o.a.createElement(D,{history:u,console:s,retry:l,retryText:f}))}}])&&O(e.prototype,r),n&&O(e,n),c}(n.Component);A(L,"propTypes",{location:c.a.object,requestDownload:c.a.string,clearRequestRemainingData:c.a.func,getFilesFromGitHub:c.a.func,buttonClicked:c.a.bool,fontList:c.a.array,getFilesFromGitHubFailed:c.a.string,retry:c.a.array,clearConsole:c.a.func,history:c.a.object,clearButtonClickedAndRetryList:c.a.func,downloadFontsApiCall:c.a.func,addToConsole:c.a.func,console:c.a.object,buttonClassName:c.a.string,buttonText:c.a.string,counterText:c.a.string,retryText:c.a.string,queue:c.a.number});var N=Object(s.b)((function(t){return{buttonClicked:t.coreFonts.buttonClicked,fontList:t.coreFonts.fontList,getFilesFromGitHubFailed:t.coreFonts.getFilesFromGitHubFailed,console:t.coreFonts.console,retry:t.coreFonts.retry,requestDownload:t.coreFonts.requestDownload,queue:t.coreFonts.downloadCounter}}),{addToConsole:E.k,clearButtonClickedAndRetryList:E.m,getFilesFromGitHub:E.r,downloadFontsApiCall:E.q,clearRequestRemainingData:E.o,clearConsole:E.n})(L),H=function(t){var e=t.button;return o.a.createElement(i.a,null,o.a.createElement(u.c,null,o.a.createElement(u.a,{render:function(t){return o.a.createElement(B,{history:t.history,button:e})}}),o.a.createElement(u.a,{path:"/downloadCoreFonts",exact:!0,render:function(t){return o.a.createElement(B,{history:t.history,button:e})}}),o.a.createElement(u.a,{path:"/retryDownloadCoreFonts",exact:!0,render:function(t){return o.a.createElement(B,{history:t.history,button:e})}})))};H.propTypes={history:c.a.object,button:c.a.object};var B=function(t){var e=t.history,r=t.button;return o.a.createElement(N,{history:e,location:e.location,buttonClassName:r.className,buttonText:r.innerText,success:GFPDF.coreFontSuccess,error:GFPDF.coreFontError,itemPending:GFPDF.coreFontItemPendingMessage,itemSuccess:GFPDF.coreFontItemSuccessMessage,itemError:GFPDF.coreFontItemErrorMessage,counterText:GFPDF.coreFontCounter,retryText:GFPDF.coreFontRetry})};B.propTypes={history:c.a.object,button:c.a.object};e.default=H}}]);